/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.4
*/
zingchart.setModule("chord"),function(){var l;ZC.AE7=((l=function(){this.AED="palette",this.C1="#6a921f",this.BP=[],this.SV=.8,this.AE8=.1,this.AE6=0,this.AE5=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JN=1,this.K5=!1,this.AGH=function(){for(var l=(16777215*Math.random()+1<<0).toString(16);l.length<6;)l="0"+l;return"#"+l}}).getDefaults=function(e){var t={};return ZC._cp_(l.B8,t),l.NZ[e]&&ZC._cp_(l.NZ[e],t),t},l.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},l.NZ={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},l);var e={},t={},n=null,a=null,_=-1,r=-1;zingchart.bind(null,"dataparse",function(l,o){var i,C,Z,s,u,g,p=zingchart.getLoader(l.id);zingchart.initThemes(p);for(var d=ZC.AE7.getDefaults(l.theme),h=0,c=o.graphset.length;h<c;h++)if("chord"===o.graphset[h].type){var f=o.graphset[h].type,v=o.graphset[h],A={};v.options&&(A=v.options[f]||v.options),ZC._todash_(A),null!==ZC._n_(n)&&(v.shapes=[],ZC._cpa_(n,v.shapes)),null!==ZC._n_(a)&&(v.labels=[],ZC._cpa_(a,v.labels));var b=new ZC.AE7;e["chord-"+l.id+"-"+h]=b,null!==ZC._n_(i=A["color-type"])&&(b.AED=i),null!==ZC._n_(i=A.color)&&(b.C1=ZC.AO.GB(i)),null!==ZC._n_(i=A.palette)?b.BP=i:d.palette.length>0&&(b.BP=d.palette),null!==ZC._n_(i=A.radius)&&(b.SV=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["band-width"])&&(b.AE8=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["band-space"])&&(b.AE6=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["angle-padding"])&&(b.AE5=ZC._i_(i)),null!==ZC._n_(i=A["group-padding"])&&(b.iGroupPadding=ZC._i_(i)),null!==ZC._n_(i=A["group-offset"])&&(b.iGroupOffset=ZC._i_(i)),null!==ZC._n_(i=A["size-factor"])&&(b.JN=ZC._f_(i)),null!==ZC._n_(i=A.flat)&&(b.K5=ZC._b_(i));var x=v.series;for(C=0;C<x.length;C++)x[C]["sort-index"]=C;var y=[];x.sort(function(l,e){return null!==ZC._n_(l.group)&&-1===ZC.AV(y,ZC._i_(l.group))&&y.push(ZC._i_(l.group)),null!==ZC._n_(e.group)&&-1===ZC.AV(y,ZC._i_(e.group))&&y.push(ZC._i_(e.group)),null!==ZC._n_(l.group)&&null!==ZC._n_(e.group)&&ZC._i_(l.group)-ZC._i_(e.group)!=0?ZC._i_(l.group)-ZC._i_(e.group):l["sort-index"]-e["sort-index"]});var E=ZC.BQ(y.length,1),m=t["chord-"+l.id+"-"+h]||[],B=m.length,M=0;for(C=0,Z=x.length;C<Z;C++)if(0===B||B>0&&-1===ZC.AV(m,C))for(u=0,g=(s=x[C].values||[]).length;u<g;u++)(0===B||B>0&&-1===ZC.AV(m,u))&&(M+=ZC._f_(s[u]));var V=0;for(C=0,Z=x.length;C<Z;C++)(0===B||B>0&&-1===ZC.AV(m,C))&&V++;if(-1===_&&(_=x.length),-1===r)for(C=0,Z=x.length;C<Z;C++)s=x[C].values||[],r=ZC.BQ(r,s.length);v.shapes||(v.shapes=[]),n||(n=[],ZC._cpa_(v.shapes,n));var D=v.shapes;v.labels||(v.labels=[]),a||(a=[],ZC._cpa_(v.labels,a));var k,P,F,w,z,I,G,N,L,S,O=v.labels;v.legend&&(v.legend["toggle-action"]="none");var Q,J=360-b.AE5*V-b.iGroupPadding*(E>1?E:0),T=[],U=[],X=[],H=0,K=0,Y=null,j=!1;for(C=0,Z=x.length;C<Z;C++){ZC._todash_(x[C]),Q=1,null!==ZC._n_(x[C].group)&&(Q=ZC._i_(x[C].group)),j=!1,K=0,null===Y&&null!==ZC._n_(x[C].group)?Y=ZC._i_(x[C].group):ZC._i_(x[C].group)!==Y&&(Y=ZC._i_(x[C].group),j=!0),j&&C>0&&(K=b.iGroupPadding);var q=b.C1;if("palette"===b.AED)if(b.BP.length>0)q=b.BP[C%b.BP.length];else q=zingchart.getPalette(p,C,"bar")[1];else"random"===b.AED&&(q=b.AGH());if(0===B||B>0&&-1===ZC.AV(m,C)){null===ZC._n_(x[C]["background-color"])&&(x[C]["background-color"]=q),x[C].visible=!0;var R={},W=0;for(u=0,g=(s=x[C].values||[]).length;u<g;u++)(0===B||B>0&&-1===ZC.AV(m,u))&&(W+=ZC._f_(s[u]));R["angle-start"]=H+K,R["angle-end"]=R["angle-start"]+J*W/M,R.group=Q,R.total=W,R.values=x[C].values,H=R["angle-end"]+b.AE5,T.push(R);var $=zingchart.getInstance(p,"style");$.append(x[C]),$.parse(),U[C]=$,v.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":$.A0,"background-color-2":$.AE}},x[C]),G={"background-color":"#fff",color:"#333","border-width":1,"border-color":d["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,G);var ll=x[C].text||"";G.text=ll;var el={alpha:d.alpha,"border-width":0,"background-color":$.A0+" "+$.AE,tooltip:G};null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.band)&&ZC._cp_(i,el),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.band)&&ZC._cp_(i,el),ZC._cp_({type:"pie",id:"segment_"+C,"angle-start":R["angle-start"],"angle-end":R["angle-end"]},el),el.tooltip.text=el.tooltip.text.replace(/%text/gi,ll),X.push(el)}else x[C].visible=!1,T.push(null),X.push(null)}var tl=0;if(E>1){var nl=Number.MAX_VALUE,al=-Number.MAX_VALUE;for(C=0,Z=T.length;C<Z;C++)1===T[C].group&&(nl=Math.min(nl,T[C]["angle-start"]),al=Math.max(al,T[C]["angle-end"]));tl=(al-nl)/2}for(tl+=b.iGroupOffset,C=0,Z=T.length;C<Z;C++)T[C]&&X[C]&&(T[C]["angle-start"]-=tl,T[C]["angle-end"]-=tl,X[C]["angle-start"]-=tl,X[C]["angle-end"]-=tl,D.push(X[C]));var _l,rl=Number.MAX_VALUE;if(0!==M){for(C=0,Z=T.length;C<Z;C++)if(0===B||B>0&&-1===ZC.AV(m,C)){var ol=Math.pow(10,Math.floor(Math.log(T[C].total)/Math.LN10));ol>0&&(rl=ZC.CY(rl,ol))}for(;!((_l=J*rl/M)<15);)rl/=2}else rl=1;var il,Cl,Zl,sl,ul,gl,pl,dl=Math.min(0,Math.ceil(Math.log(rl)/Math.LN10)+1),hl=0,cl=0;for(C=0,Z=T.length;C<Z;C++)if(0===B||B>0&&-1===ZC.AV(m,C))for(il=0,Cl=ZC.BQ(1,Math.floor(10/_l)),k=T[C]["angle-start"];k<T[C]["angle-end"];k+=_l)il%Cl==0&&(ul=(Zl=il*rl).toFixed(dl),Zl>=1e3&&(ul=Zl/1e3+"k"),Zl>=1e6&&(ul=Zl/1e6+"M"),sl={},ZC._cp_(d.item,sl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,sl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.item)&&ZC._cp_(i,sl),sl.text=ul,ZC._todash_(sl),(gl=zingchart.getInstance(p,"textbox")).append(sl),gl.parse(),cl=Math.max(cl,gl.DT),hl=Math.max(hl,gl.I)),il++;var fl,vl=0,Al=0,bl=0;for(C=0;C<x.length;C++)ul=x[C].text||"",fl={},ZC._cp_(d.label,fl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.label)&&ZC._cp_(i,fl),fl.text=ul,ZC._todash_(fl),(pl=zingchart.getInstance(p,"textbox")).append(fl),pl.parse(),bl=Math.max(bl,pl.DT),vl=Math.max(vl,pl.I),Al=Math.max(Al,pl.F);if(v.plotarea)for(var xl=["margin","margin-top","margin-right","margin-bottom","margin-left"],yl=0;yl<xl.length;yl++)"dynamic"===v.plotarea[xl[yl]]&&(0===pl.A9?v.plotarea[xl[yl]]=hl+cl+Al-20:v.plotarea[xl[yl]]=hl+cl+vl-20);var El,ml,Bl=zingchart.getGraphInfo(p,o,h),Ml=Bl.plotarea.x+Bl.plotarea.width/2,Vl=Bl.plotarea.y+Bl.plotarea.height/2,Dl=Bl.graph.x+Ml,kl=Bl.graph.y+Vl;for(El=b.SV>1?ZC._i_(b.SV):ZC._i_(b.SV*ZC.CY(Bl.plotarea.width/2,Bl.plotarea.height/2)),El*=b.JN,ml=b.AE8>1?El-ZC._i_(b.AE8):ZC._i_((1-b.AE8)*El),b.AE6<1&&(b.AE6=ZC._i_(b.AE6*El)),C=0,Z=D.length;C<Z;C++)D[C].id&&0===D[C].id.indexOf("segment_")&&(D[C].x=Ml,D[C].y=Vl,D[C].size=El,D[C].slice=ml);for(C=0,Z=T.length;C<Z;C++)if(0===B||B>0&&-1===ZC.AV(m,C)){il=0;var Pl=[],Fl={};ZC._cp_(d.tick,Fl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tick)&&ZC._cp_(i,Fl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.tick)&&ZC._cp_(i,Fl);var wl=Fl.size||5;for(Cl=ZC.BQ(1,Math.floor(10/_l)),I=30,k=T[C]["angle-start"];k<T[C]["angle-end"];k+=_l){var zl=ZC.AP.BM(Dl,kl,El,k+.1),Il=ZC.AP.BM(Dl,kl,El+wl,k+.1);Pl.push(zl,Il,null),il%Cl==0&&(ul=(Zl=il*rl).toFixed(dl),Zl>=1e3&&(ul=Zl/1e3+"k"),Zl>=1e6&&(ul=Zl/1e6+"M"),P=k,F="left",k>90&&k<270&&(P=k-180,F="right"),sl={},ZC._cp_(d.item,sl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,sl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.item)&&ZC._cp_(i,sl),I=sl.width||hl,z=ZC._i_(sl["offset-r"]||"0"),w=ZC.AP.BM(Ml,Vl,El+wl+z+I/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:I,angle:P,"text-align":F,text:ul},sl),("undefined"==typeof sl.visible||ZC._b_(sl.visible))&&O.push(sl)),il++}ZC._cp_({type:"line",id:"ticks"+C,points:Pl},Fl),("undefined"==typeof Fl.visible||ZC._b_(Fl.visible))&&D.push(Fl),P=k=(T[C]["angle-start"]+T[C]["angle-end"])/2,k<0&&(k+=360),k%=360,F="center",0===pl.A9?k>=0&&k<=180?P-=90:P+=90:k>=0&&k<=90||k>=270&&k<=360?P-=90:P+=90;var Gl={};ZC._cp_(d["value-box"],Gl),null!==ZC._n_(v.plot)&&null!==ZC._n_(i=v.plot["value-box"])&&ZC._cp_(i,Gl),null!==ZC._n_(i=x[C]["value-box"])&&ZC._cp_(i,Gl);var Nl=ZC.AP.BM(Dl,kl,(El+ml)/2,(T[C]["angle-start"]+T[C]["angle-end"])/2),Ll=P;null===ZC._n_(Gl.angle)&&null===ZC._n_(Gl["font-angle"])||(Gl["auto-align"]?null!==ZC._n_(Gl.angle)?Ll+=ZC._f_(Gl.angle):Ll+=ZC._f_(Gl["font-angle"]):Ll=null!==ZC._n_(Gl.angle)?ZC._f_(Gl.angle):ZC._f_(Gl["font-angle"])),ZC._cp_({id:"vbox_"+C,anchor:"c",angle:Ll,x:Nl[0],y:Nl[1],flat:!0},Gl),Gl.text=Gl.text||"%node-value",Gl.text=Gl.text.replace(/%plot-text/gi,x[C].text||"").replace(/%node-value/gi,T[C].total),("undefined"==typeof Gl.visible||ZC._b_(Gl.visible))&&O.push(Gl),fl={},ZC._cp_(d.label,fl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.label)&&ZC._cp_(i,fl),L=fl.width||vl,S=fl.height||Al,N=ZC._i_(fl["offset-r"]||"0"),null===ZC._n_(fl.angle)&&null===ZC._n_(fl["font-angle"])||(fl["auto-align"]?(null!==ZC._n_(fl.angle)?P+=ZC._f_(fl.angle):P+=ZC._f_(fl["font-angle"]),0!==pl.A9&&(F=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):P=null!==ZC._n_(fl.angle)?ZC._f_(fl.angle):ZC._f_(fl["font-angle"])),w=0===pl.A9?ZC.AP.BM(Ml,Vl,El+wl+z+I+N+S,k):ZC.AP.BM(Ml,Vl,El+wl+z+I+N+L/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:L,angle:P,"font-angle":P,"text-align":F,text:x[C].text},fl),("undefined"==typeof fl.visible||ZC._b_(fl.visible))&&O.push(fl)}var Sl=ml-b.AE6;for(C=0,Z=T.length;C<Z;C++)if(0===B||B>0&&-1===ZC.AV(m,C))for(u=0,g=T.length;u<Z;u++)if(0===B||B>0&&-1===ZC.AV(m,u)){for(var Ol=0,Ql=0,Jl=0;Jl<u;Jl++)(0===B||B>0&&-1===ZC.AV(m,Jl))&&("undefined"==typeof T[C].values[Jl]&&(T[C].values[Jl]=0),Ol+=T[C].values[Jl]);for(Jl=0;Jl<C;Jl++)(0===B||B>0&&-1===ZC.AV(m,Jl))&&("undefined"==typeof T[u].values[Jl]&&(T[u].values[Jl]=0),Ql+=T[u].values[Jl]);var Tl=0;"undefined"!=typeof T[C].values[u]&&(Tl=T[C].values[u]);var Ul=0;"undefined"!=typeof T[u].values[C]&&(Ul=T[u].values[C]);var Xl=T[C]["angle-start"]+(T[C]["angle-end"]-T[C]["angle-start"])*Ol/T[C].total,Hl=Xl+(T[C]["angle-end"]-T[C]["angle-start"])*Tl/T[C].total,Kl=T[u]["angle-start"]+(T[u]["angle-end"]-T[u]["angle-start"])*Ql/T[u].total,Yl=Kl+(T[u]["angle-end"]-T[u]["angle-start"])*Ul/T[u].total;0===T[C].total&&(Xl=T[C]["angle-start"],Hl=T[C]["angle-end"]),0===T[u].total&&(Kl=T[u]["angle-start"],Yl=T[u]["angle-end"]);var jl=ZC.AP.BM(Dl,kl,Sl,Xl),ql=ZC.AP.BM(Dl,kl,Sl,Kl);G={"background-color":"#fff",color:"#333","border-width":1,"border-color":d["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,G);var Rl=x[C].text||"",Wl=x[u].text||"",$l={},le=[];if(C===u?(G.text=Rl+":"+T[C].values[u],le=[[jl[0],jl[1]],[Dl,kl,Sl,Xl,Hl,0],[Dl,kl,jl[0],jl[1]]]):C<=u&&(G.text=Rl+" -> "+Wl+":"+T[C].values[u]+"<br>"+Wl+" -> "+Rl+":"+T[u].values[C],le=[[jl[0],jl[1]],[Dl,kl,Sl,Xl,Hl,0],[Dl,kl,ql[0],ql[1]],[Dl,kl,Sl,Kl,Yl,0],[Dl,kl,jl[0],jl[1]]]),le.length>0){var ee=Tl>=Ul?C:u;ZC._cp_({"background-color":U[ee].A0+" "+U[ee].AE,alpha:.75,"border-width":1,"border-color":d["border-color-2"],tooltip:G},$l),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.chord)&&ZC._cp_(i,$l),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.chord)&&ZC._cp_(i,$l),ZC._cp_({type:"poly",id:"chord_"+C+"_"+u,dynamic:!0,"fast-vector-path":!0,points:le},$l),C!==u&&null!==ZC._n_(i=$l.tooltip["text-chord"])&&($l.tooltip.text=i),$l.tooltip.text=$l.tooltip.text.replace(/%text-destination/gi,Wl).replace(/%value-destination/gi,T[u].values[C]).replace(/%text-source/gi,Rl).replace(/%value-source/gi,T[C].values[u]).replace(/%text/gi,Rl).replace(/%value/gi,T[C].values[u]),("undefined"==typeof $l.visible||ZC._b_($l.visible))&&(0===Tl&&0===Ul||D.push($l))}}}return o})}();