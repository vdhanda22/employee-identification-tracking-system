/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.4
*/
zingchart.setModule("wordcloud"),function(){var t;ZC.AE3=((t=function(){this.AE4=9,this.AE2=99,this.AE0=2,this.EH=100,this.ADY=15,this.ADW=5,this.ZA=!1,this.ER="word",this.ACD=[],this.AR="",this.aWords=[],this.oWordsMap=null,this.CW="spiral",this.AED="palette",this.C1="#000",this.bNormalize=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.KG=function(){var t,e,a={};if(""!==this.AR){if("word"===this.ER)t=this.AR.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.ER)for(this.AE0=0,t=[],e=0;e<this.AR.length;e++)" "!==this.AR[e]&&t.push(this.AR[e]);for(e=0;e<t.length;e++){var l=this.bNormalize?t[e].toLowerCase():t[e];if(t[e].length>=this.AE0&&-1===ZC.AV(this.ACD,t[e]))if(this.bNormalize){var o=!1;for(var r in a)r.toLowerCase()===l&&(o=!0,a[r]++);o||(a[t[e]]=1)}else null===ZC._n_(a[t[e]])&&(a[t[e]]=0),a[t[e]]++}}if(this.aWords.length>0)for(this.oWordsMap={},e=0;e<this.aWords.length;e++){var i=this.aWords[e];null!==ZC._n_(i.text)&&(this.oWordsMap[i.text]=i,a[i.text]=i.count||0)}return a},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(e){var a={};return ZC._cp_(t.B8,a),t.NZ[e]&&ZC._cp_(t.NZ[e],a),a},t.B8={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},t.NZ={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},t),zingchart.bind(null,"dataparse",function(t,e){for(var a,l,o,r,i,n=zingchart.getLoader(t.id),s=0,h=e.graphset.length;s<h;s++)if(e.graphset[s].type&&"wordcloud"===e.graphset[s].type){var p=e.graphset[s].type,C=e.graphset[s],_=ZC.AE3.getDefaults(t.theme),A={};for(C.options&&(A=C.options[p]||C.options),ZC._todash_(A,!0,["words"]),C.labels=C.labels||[],r=C.labels.length-1;r>=0;r--)(C.labels[r]["data-word-cloud"]||C.labels[r].dataWordCloud)&&C.labels.splice(r,1);C.plotarea=C.plotarea||{},null===ZC._n_(C.plotarea.margin)&&(C.plotarea.margin=5);var f=new ZC.AE3;null!==ZC._n_(a=A.text)&&(f.AR=a),null!==ZC._n_(a=A.words)&&(f.aWords=a),null!==ZC._n_(a=A.aspect)&&(f.CW=a),null!==ZC._n_(a=A.ignore)&&(f.ACD=a),null!==ZC._n_(a=A.token)&&(f.ER=a),null!==ZC._n_(a=A["min-length"])&&(f.AE0=ZC._i_(a)),null!==ZC._n_(a=A["min-font-size"])&&(f.AE4=ZC._i_(a)),null!==ZC._n_(a=A["max-font-size"])&&(f.AE2=ZC._i_(a)),null!==ZC._n_(a=A["max-items"])&&(f.EH=ZC._i_(a)),null!==ZC._n_(a=A["color-type"])&&(f.AED=a),null!==ZC._n_(a=A.color)&&(f.C1=ZC.AO.GB(a)),null!==ZC._n_(a=A.palette)?f.BP=a:f.BP=_.palette,null!==ZC._n_(a=A["step-angle"])&&(f.ADY=ZC._i_(a)),null!==ZC._n_(a=A["step-radius"])&&(f.ADW=ZC._i_(a)),null!==ZC._n_(a=A.rotate)&&(f.ZA=ZC._b_(a)),null!==ZC._n_(a=A.normalize)&&(f.bNormalize=ZC._b_(a));var u={};null!==ZC._n_(a=A.style)&&ZC._cp_(a,u);var Z=zingchart.getInstance(n,"textbox");Z.append(u),Z.parse(),f.AE4=ZC.BQ(4,f.AE4),f.AE2=ZC.BQ(4,f.AE2),f.AE4>=f.AE2&&(f.AE2=f.AE4+2);var c=zingchart.getGraphInfo(n,e,s),E=[],d=c.plotarea.x+c.plotarea.width/2,g=c.plotarea.y+c.plotarea.height/2,W=1;"spiral"===f.CW?W=f.ZA?.65:.55:"flow-top"!==f.CW&&"flow-center"!==f.CW||(f.ZA=!1,W=.75);var w=c.plotarea.width*c.plotarea.height*W,v=f.KG(),b=[],x=-Number.MAX_VALUE,m=Number.MAX_VALUE;for(var y in v)b.push({text:y,count:v[y],hits:v[y]});for(b.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==f.EH&&b.splice(f.EH,b.length-f.EH),l=0;l<b.length;l++)x=ZC.BQ(b[l].count,x),m=ZC.CY(b[l].count,m);for(l=0;l<b.length;l++)b[l].count=x===m?50:10+90*(b[l].count-m)/(x-m);var D=function(t){for(l=0;l<b.length;l++)b[l].fontSize=Math.max(f.AE4,ZC._i_(f.AE4+b[l].count/100*(f.AE2-f.AE4))-t),b[l].width=ZC.Q.A3Y(n.K,b[l].text,Z.GG,b[l].fontSize,Z.sFontWeight,Z.FI)+Z.EP+Z.FM,b[l].height=1.1*b[l].fontSize+Z.FL+Z.FU};D(0);for(var z=!1;!z;){z=!0;var B=0;for(l=0;l<b.length;l++)B+=b[l].width*b[l].height;B>w&&(z=!1,f.AE2--,f.AE2<=f.AE4+4&&f.AE4--,D(0),(f.AE4<5||f.AE2<5)&&(z=!0))}null===ZC._n_(A["step-radius"])&&(f.ADW=(f.AE2-f.AE4+.25*f.AE4*f.AE0+1)/10);for(var M=!0,G=-1;M&&G<f.AE2-f.AE4;){E=[],C.labels=[],D(G+=1),M=!1;var R,F=0,Y=0,N=f.AE2/2,X=f.AE2/2,k=[];for(l=0,o=b.length;l<o;l++){var I=!0,H=d,L=g,S=f.C1;switch(f.AED){case"random":S=f.AGH();break;case"palette":S=f.BP[l%f.BP.length]}var P=f.ZA?l%4==0||l%4==3?0:90:0,Q=!1,K=b[l].text,U={padding:0,dataWordCloud:!0};ZC._cp_(u,U),ZC._cp_({angle:P,"font-size":Math.max(f.AE4,b[l].fontSize-G),text:K,color:S},U),null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style["hover-state"])&&(U["hover-state"]={},ZC._cp_(a,U["hover-state"]));var V=K;U.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:V},null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style.tooltip)&&ZC._cp_(a,U.tooltip),U.tooltip.text=U.tooltip.text.replace("%text",K).replace("%hits",b[l].hits),f.oWordsMap&&null!==ZC._n_(f.oWordsMap[K])&&(ZC._cp_(f.oWordsMap[K],U),ZC._cp_(f.oWordsMap[K].style,U));var O=0,j=0,q=0,J=f.AE4/2;for("flow-top"===f.CW?q=1:"flow-center"===f.CW&&(q=l%2==0?1:-1),k[l]=0;I&&!M;){var T=b[l].width,$=b[l].height;if("spiral"===f.CW?(H=d+(0===l?0:N)*ZC.EG(F)-T/2,L=g+(0===l?0:X)*ZC.EN(F)-$/2):"flow-center"===f.CW?(H=0===l?d-T/2:c.plotarea.x+O,L=g-$/2+j):"flow-top"===f.CW&&(H=0===l?d-T/2:c.plotarea.x+O,L=c.plotarea.y+j),90===P&&"flow-top"===f.CW&&(L=ZC.BQ(L,c.plotarea.y+$)),U.x=ZC._i_(H),U.y=ZC._i_(L),I=!1,90===P){var tt=T;H=ZC._i_(H+T/2-$/2),L=ZC._i_(L+$/2-T/2),T=$,$=tt}if(H<c.plotarea.x||H+T>c.plotarea.x+c.plotarea.width||L<c.plotarea.y||L+$>c.plotarea.y+c.plotarea.height)if("spiral"===f.CW){if(!(k[l]<200)){Q=!0,M=!0;break}k[l]++,I=!0}else if("flow-top"===f.CW||"flow-center"===f.CW){if(H+T>c.plotarea.x+c.plotarea.width&&(I=!0,O=-J,j+=q*J),L+$>c.plotarea.y+c.plotarea.height){Q=!0;break}if(L<c.plotarea.y){Q=!0;break}}if(R={iX:H,iY:L,I:T,F:$,DG:Math.max(b[l].fontSize-G,f.AE4),AR:b[l].text,GG:Z.GG},!I)for(r=0,i=E.length;r<i;r++)if(f.intersectRect(E[r],R)){O+=E[r].I,I=!0;break}"spiral"===f.CW?I?(F+=f.ADY)>Y+360&&(N+=f.ADW,X+=f.ADW*(c.plotarea.height/c.plotarea.width),F=Y=5*l%360):(N=X=f.AE2/2,F=Y=5*l%360):"flow-top"!==f.CW&&"flow-center"!==f.CW||I&&(O+=J)}Q||R.iX<c.plotarea.x||R.iX+R.I>c.plotarea.x+c.plotarea.width||R.iY<c.plotarea.y||R.iY+R.F>c.plotarea.y+c.plotarea.height||(E.push(R),C.labels.push(U))}"flow-top"!==f.CW&&"flow-center"!==f.CW||b.length>E.length&&(M=!0)}}return e})}();