/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.4
*/
zingchart.setModule("chord"),function(){var e;ZC.AE7=((e=function(){this.AED="palette",this.C1="#6a921f",this.BP=[],this.SV=.8,this.AE8=.1,this.AE6=0,this.AE5=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JN=1,this.K5=!1,this.AGH=function(){for(var e=(16777215*Math.random()+1<<0).toString(16);e.length<6;)e="0"+e;return"#"+e}}).getDefaults=function(l){var t={};return ZC._cp_(e.B8,t),e.NZ[l]&&ZC._cp_(e.NZ[l],t),t},e.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},e.NZ={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},e);var l={},t={},a=null,n=null,r=-1,_=-1,o=function(e){var a=zingchart.getLoader(e.id);if(a){var n=zingchart.getGraph(a,e.graphid);if(n&&"chord"===n.o.type)if(l["chord-"+e.id+"-"+e.graphidx]){t["chord-"+e.id+"-"+e.graphidx]=t["chord-"+e.id+"-"+e.graphidx]||[];var r,_=t["chord-"+e.id+"-"+e.graphidx];-1!==(r=ZC.AV(_,e.plotindex))?_.splice(r,1):_.push(e.plotindex),a.K3()}}};zingchart.bind(null,"legend_item_click",o),zingchart.bind(null,"legend_marker_click",o),zingchart.bind(null,"shape_mouseover",function(e){var t=zingchart.getLoader(e.id);if(t){var a=zingchart.getGraph(t,e.graphid);if(a&&"chord"===a.o.type){var n=l["chord-"+e.id+"-"+e.graphidx];if(n&&!n.K5&&"segment_"===e.shapeid.substring(0,8)){for(var o=ZC._i_(e.shapeid.replace("segment_","")),i=[],p=0;p<r;p++)for(var g=0;g<_;g++)"svg"===t.AB?ZC.A5("#"+a.K+"-shape-chord_"+p+"_"+g+"-path").attr("fill-opacity",o===p||o===g?1:.1):i.push({id:"chord_"+p+"_"+g,alpha:o===p||o===g?1:.1});"svg"!==t.AB&&zingchart.exec(e.id,"updateobject",{type:"shape",graphid:e.graphid,dynamic:!0,data:i})}}}}),zingchart.bind(null,"shape_mouseout",function(e){var t=zingchart.getLoader(e.id);if(t){var a=zingchart.getGraph(t,e.graphid);if(a&&"chord"===a.o.type){var n=l["chord-"+e.id+"-"+e.graphidx];if(n&&!n.K5&&"segment_"===e.shapeid.substring(0,8)){for(var o=[],i=0;i<r;i++)for(var p=0;p<_;p++)"svg"===t.AB?ZC.A5("#"+a.K+"-shape-chord_"+i+"_"+p+"-path").attr("fill-opacity",.75):o.push({id:"chord_"+i+"_"+p,alpha:.75});"svg"!==t.AB&&zingchart.exec(e.id,"updateobject",{type:"shape",graphid:e.graphid,dynamic:!0,data:o})}}}}),zingchart.bind(null,"dataparse",function(e,o){var i,p,g,C,s,u,d=zingchart.getLoader(e.id);zingchart.initThemes(d);for(var h=ZC.AE7.getDefaults(e.theme),Z=0,c=o.graphset.length;Z<c;Z++)if("chord"===o.graphset[Z].type){var f=o.graphset[Z].type,v=o.graphset[Z],A={};v.options&&(A=v.options[f]||v.options),ZC._todash_(A),null!==ZC._n_(a)&&(v.shapes=[],ZC._cpa_(a,v.shapes)),null!==ZC._n_(n)&&(v.labels=[],ZC._cpa_(n,v.labels));var b=new ZC.AE7;l["chord-"+e.id+"-"+Z]=b,null!==ZC._n_(i=A["color-type"])&&(b.AED=i),null!==ZC._n_(i=A.color)&&(b.C1=ZC.AO.GB(i)),null!==ZC._n_(i=A.palette)?b.BP=i:h.palette.length>0&&(b.BP=h.palette),null!==ZC._n_(i=A.radius)&&(b.SV=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["band-width"])&&(b.AE8=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["band-space"])&&(b.AE6=ZC._f_(ZC.II(i))),null!==ZC._n_(i=A["angle-padding"])&&(b.AE5=ZC._i_(i)),null!==ZC._n_(i=A["group-padding"])&&(b.iGroupPadding=ZC._i_(i)),null!==ZC._n_(i=A["group-offset"])&&(b.iGroupOffset=ZC._i_(i)),null!==ZC._n_(i=A["size-factor"])&&(b.JN=ZC._f_(i)),null!==ZC._n_(i=A.flat)&&(b.K5=ZC._b_(i));var x=v.series;for(p=0;p<x.length;p++)x[p]["sort-index"]=p;var y=[];x.sort(function(e,l){return null!==ZC._n_(e.group)&&-1===ZC.AV(y,ZC._i_(e.group))&&y.push(ZC._i_(e.group)),null!==ZC._n_(l.group)&&-1===ZC.AV(y,ZC._i_(l.group))&&y.push(ZC._i_(l.group)),null!==ZC._n_(e.group)&&null!==ZC._n_(l.group)&&ZC._i_(e.group)-ZC._i_(l.group)!=0?ZC._i_(e.group)-ZC._i_(l.group):e["sort-index"]-l["sort-index"]});var E=ZC.BQ(y.length,1),m=t["chord-"+e.id+"-"+Z]||[],B=m.length,M=0;for(p=0,g=x.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(s=0,u=(C=x[p].values||[]).length;s<u;s++)(0===B||B>0&&-1===ZC.AV(m,s))&&(M+=ZC._f_(C[s]));var z=0;for(p=0,g=x.length;p<g;p++)(0===B||B>0&&-1===ZC.AV(m,p))&&z++;if(-1===r&&(r=x.length),-1===_)for(p=0,g=x.length;p<g;p++)C=x[p].values||[],_=ZC.BQ(_,C.length);v.shapes||(v.shapes=[]),a||(a=[],ZC._cpa_(v.shapes,a));var V=v.shapes;v.labels||(v.labels=[]),n||(n=[],ZC._cpa_(v.labels,n));var k,D,P,F,w,G,I,N,L,K,S=v.labels;v.legend&&(v.legend["toggle-action"]="none");var O,Q=360-b.AE5*z-b.iGroupPadding*(E>1?E:0),J=[],T=[],U=[],X=0,j=0,H=null,Y=!1;for(p=0,g=x.length;p<g;p++){ZC._todash_(x[p]),O=1,null!==ZC._n_(x[p].group)&&(O=ZC._i_(x[p].group)),Y=!1,j=0,null===H&&null!==ZC._n_(x[p].group)?H=ZC._i_(x[p].group):ZC._i_(x[p].group)!==H&&(H=ZC._i_(x[p].group),Y=!0),Y&&p>0&&(j=b.iGroupPadding);var q=b.C1;if("palette"===b.AED)if(b.BP.length>0)q=b.BP[p%b.BP.length];else q=zingchart.getPalette(d,p,"bar")[1];else"random"===b.AED&&(q=b.AGH());if(0===B||B>0&&-1===ZC.AV(m,p)){null===ZC._n_(x[p]["background-color"])&&(x[p]["background-color"]=q),x[p].visible=!0;var R={},W=0;for(s=0,u=(C=x[p].values||[]).length;s<u;s++)(0===B||B>0&&-1===ZC.AV(m,s))&&(W+=ZC._f_(C[s]));R["angle-start"]=X+j,R["angle-end"]=R["angle-start"]+Q*W/M,R.group=O,R.total=W,R.values=x[p].values,X=R["angle-end"]+b.AE5,J.push(R);var $=zingchart.getInstance(d,"style");$.append(x[p]),$.parse(),T[p]=$,v.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":$.A0,"background-color-2":$.AE}},x[p]),I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,I);var ee=x[p].text||"";I.text=ee;var le={alpha:h.alpha,"border-width":0,"background-color":$.A0+" "+$.AE,tooltip:I};null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.band)&&ZC._cp_(i,le),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.band)&&ZC._cp_(i,le),ZC._cp_({type:"pie",id:"segment_"+p,"angle-start":R["angle-start"],"angle-end":R["angle-end"]},le),le.tooltip.text=le.tooltip.text.replace(/%text/gi,ee),U.push(le)}else x[p].visible=!1,J.push(null),U.push(null)}var te=0;if(E>1){var ae=Number.MAX_VALUE,ne=-Number.MAX_VALUE;for(p=0,g=J.length;p<g;p++)1===J[p].group&&(ae=Math.min(ae,J[p]["angle-start"]),ne=Math.max(ne,J[p]["angle-end"]));te=(ne-ae)/2}for(te+=b.iGroupOffset,p=0,g=J.length;p<g;p++)J[p]&&U[p]&&(J[p]["angle-start"]-=te,J[p]["angle-end"]-=te,U[p]["angle-start"]-=te,U[p]["angle-end"]-=te,V.push(U[p]));var re,_e=Number.MAX_VALUE;if(0!==M){for(p=0,g=J.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p)){var oe=Math.pow(10,Math.floor(Math.log(J[p].total)/Math.LN10));oe>0&&(_e=ZC.CY(_e,oe))}for(;!((re=Q*_e/M)<15);)_e/=2}else _e=1;var ie,pe,ge,Ce,se,ue,de,he=Math.min(0,Math.ceil(Math.log(_e)/Math.LN10)+1),Ze=0,ce=0;for(p=0,g=J.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(ie=0,pe=ZC.BQ(1,Math.floor(10/re)),k=J[p]["angle-start"];k<J[p]["angle-end"];k+=re)ie%pe==0&&(se=(ge=ie*_e).toFixed(he),ge>=1e3&&(se=ge/1e3+"k"),ge>=1e6&&(se=ge/1e6+"M"),Ce={},ZC._cp_(h.item,Ce),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,Ce),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.item)&&ZC._cp_(i,Ce),Ce.text=se,ZC._todash_(Ce),(ue=zingchart.getInstance(d,"textbox")).append(Ce),ue.parse(),ce=Math.max(ce,ue.DT),Ze=Math.max(Ze,ue.I)),ie++;var fe,ve=0,Ae=0,be=0;for(p=0;p<x.length;p++)se=x[p].text||"",fe={},ZC._cp_(h.label,fe),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fe),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.label)&&ZC._cp_(i,fe),fe.text=se,ZC._todash_(fe),(de=zingchart.getInstance(d,"textbox")).append(fe),de.parse(),be=Math.max(be,de.DT),ve=Math.max(ve,de.I),Ae=Math.max(Ae,de.F);if(v.plotarea)for(var xe=["margin","margin-top","margin-right","margin-bottom","margin-left"],ye=0;ye<xe.length;ye++)"dynamic"===v.plotarea[xe[ye]]&&(0===de.A9?v.plotarea[xe[ye]]=Ze+ce+Ae-20:v.plotarea[xe[ye]]=Ze+ce+ve-20);var Ee,me,Be=zingchart.getGraphInfo(d,o,Z),Me=Be.plotarea.x+Be.plotarea.width/2,ze=Be.plotarea.y+Be.plotarea.height/2,Ve=Be.graph.x+Me,ke=Be.graph.y+ze;for(Ee=b.SV>1?ZC._i_(b.SV):ZC._i_(b.SV*ZC.CY(Be.plotarea.width/2,Be.plotarea.height/2)),Ee*=b.JN,me=b.AE8>1?Ee-ZC._i_(b.AE8):ZC._i_((1-b.AE8)*Ee),b.AE6<1&&(b.AE6=ZC._i_(b.AE6*Ee)),p=0,g=V.length;p<g;p++)V[p].id&&0===V[p].id.indexOf("segment_")&&(V[p].x=Me,V[p].y=ze,V[p].size=Ee,V[p].slice=me);for(p=0,g=J.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p)){ie=0;var De=[],Pe={};ZC._cp_(h.tick,Pe),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tick)&&ZC._cp_(i,Pe),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.tick)&&ZC._cp_(i,Pe);var Fe=Pe.size||5;for(pe=ZC.BQ(1,Math.floor(10/re)),G=30,k=J[p]["angle-start"];k<J[p]["angle-end"];k+=re){var we=ZC.AP.BM(Ve,ke,Ee,k+.1),Ge=ZC.AP.BM(Ve,ke,Ee+Fe,k+.1);De.push(we,Ge,null),ie%pe==0&&(se=(ge=ie*_e).toFixed(he),ge>=1e3&&(se=ge/1e3+"k"),ge>=1e6&&(se=ge/1e6+"M"),D=k,P="left",k>90&&k<270&&(D=k-180,P="right"),Ce={},ZC._cp_(h.item,Ce),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,Ce),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.item)&&ZC._cp_(i,Ce),G=Ce.width||Ze,w=ZC._i_(Ce["offset-r"]||"0"),F=ZC.AP.BM(Me,ze,Ee+Fe+w+G/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(F[0]),y:ZC._i_(F[1]),width:G,angle:D,"text-align":P,text:se},Ce),("undefined"==typeof Ce.visible||ZC._b_(Ce.visible))&&S.push(Ce)),ie++}ZC._cp_({type:"line",id:"ticks"+p,points:De},Pe),("undefined"==typeof Pe.visible||ZC._b_(Pe.visible))&&V.push(Pe),D=k=(J[p]["angle-start"]+J[p]["angle-end"])/2,k<0&&(k+=360),k%=360,P="center",0===de.A9?k>=0&&k<=180?D-=90:D+=90:k>=0&&k<=90||k>=270&&k<=360?D-=90:D+=90;var Ie={};ZC._cp_(h["value-box"],Ie),null!==ZC._n_(v.plot)&&null!==ZC._n_(i=v.plot["value-box"])&&ZC._cp_(i,Ie),null!==ZC._n_(i=x[p]["value-box"])&&ZC._cp_(i,Ie);var Ne=ZC.AP.BM(Ve,ke,(Ee+me)/2,(J[p]["angle-start"]+J[p]["angle-end"])/2),Le=D;null===ZC._n_(Ie.angle)&&null===ZC._n_(Ie["font-angle"])||(Ie["auto-align"]?null!==ZC._n_(Ie.angle)?Le+=ZC._f_(Ie.angle):Le+=ZC._f_(Ie["font-angle"]):Le=null!==ZC._n_(Ie.angle)?ZC._f_(Ie.angle):ZC._f_(Ie["font-angle"])),ZC._cp_({id:"vbox_"+p,anchor:"c",angle:Le,x:Ne[0],y:Ne[1],flat:!0},Ie),Ie.text=Ie.text||"%node-value",Ie.text=Ie.text.replace(/%plot-text/gi,x[p].text||"").replace(/%node-value/gi,J[p].total),("undefined"==typeof Ie.visible||ZC._b_(Ie.visible))&&S.push(Ie),fe={},ZC._cp_(h.label,fe),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fe),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.label)&&ZC._cp_(i,fe),L=fe.width||ve,K=fe.height||Ae,N=ZC._i_(fe["offset-r"]||"0"),null===ZC._n_(fe.angle)&&null===ZC._n_(fe["font-angle"])||(fe["auto-align"]?(null!==ZC._n_(fe.angle)?D+=ZC._f_(fe.angle):D+=ZC._f_(fe["font-angle"]),0!==de.A9&&(P=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):D=null!==ZC._n_(fe.angle)?ZC._f_(fe.angle):ZC._f_(fe["font-angle"])),F=0===de.A9?ZC.AP.BM(Me,ze,Ee+Fe+w+G+N+K,k):ZC.AP.BM(Me,ze,Ee+Fe+w+G+N+L/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(F[0]),y:ZC._i_(F[1]),width:L,angle:D,"font-angle":D,"text-align":P,text:x[p].text},fe),("undefined"==typeof fe.visible||ZC._b_(fe.visible))&&S.push(fe)}var Ke=me-b.AE6;for(p=0,g=J.length;p<g;p++)if(0===B||B>0&&-1===ZC.AV(m,p))for(s=0,u=J.length;s<g;s++)if(0===B||B>0&&-1===ZC.AV(m,s)){for(var Se=0,Oe=0,Qe=0;Qe<s;Qe++)(0===B||B>0&&-1===ZC.AV(m,Qe))&&("undefined"==typeof J[p].values[Qe]&&(J[p].values[Qe]=0),Se+=J[p].values[Qe]);for(Qe=0;Qe<p;Qe++)(0===B||B>0&&-1===ZC.AV(m,Qe))&&("undefined"==typeof J[s].values[Qe]&&(J[s].values[Qe]=0),Oe+=J[s].values[Qe]);var Je=0;"undefined"!=typeof J[p].values[s]&&(Je=J[p].values[s]);var Te=0;"undefined"!=typeof J[s].values[p]&&(Te=J[s].values[p]);var Ue=J[p]["angle-start"]+(J[p]["angle-end"]-J[p]["angle-start"])*Se/J[p].total,Xe=Ue+(J[p]["angle-end"]-J[p]["angle-start"])*Je/J[p].total,je=J[s]["angle-start"]+(J[s]["angle-end"]-J[s]["angle-start"])*Oe/J[s].total,He=je+(J[s]["angle-end"]-J[s]["angle-start"])*Te/J[s].total;0===J[p].total&&(Ue=J[p]["angle-start"],Xe=J[p]["angle-end"]),0===J[s].total&&(je=J[s]["angle-start"],He=J[s]["angle-end"]);var Ye=ZC.AP.BM(Ve,ke,Ke,Ue),qe=ZC.AP.BM(Ve,ke,Ke,je);I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,I);var Re=x[p].text||"",We=x[s].text||"",$e={},el=[];if(p===s?(I.text=Re+":"+J[p].values[s],el=[[Ye[0],Ye[1]],[Ve,ke,Ke,Ue,Xe,0],[Ve,ke,Ye[0],Ye[1]]]):p<=s&&(I.text=Re+" -> "+We+":"+J[p].values[s]+"<br>"+We+" -> "+Re+":"+J[s].values[p],el=[[Ye[0],Ye[1]],[Ve,ke,Ke,Ue,Xe,0],[Ve,ke,qe[0],qe[1]],[Ve,ke,Ke,je,He,0],[Ve,ke,Ye[0],Ye[1]]]),el.length>0){var ll=Je>=Te?p:s;ZC._cp_({"background-color":T[ll].A0+" "+T[ll].AE,alpha:.75,"border-width":1,"border-color":h["border-color-2"],tooltip:I},$e),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.chord)&&ZC._cp_(i,$e),null!==ZC._n_(x[p].style)&&null!==ZC._n_(i=x[p].style.chord)&&ZC._cp_(i,$e),ZC._cp_({type:"poly",id:"chord_"+p+"_"+s,dynamic:!0,"fast-vector-path":!0,points:el},$e),p!==s&&null!==ZC._n_(i=$e.tooltip["text-chord"])&&($e.tooltip.text=i),$e.tooltip.text=$e.tooltip.text.replace(/%text-destination/gi,We).replace(/%value-destination/gi,J[s].values[p]).replace(/%text-source/gi,Re).replace(/%value-source/gi,J[p].values[s]).replace(/%text/gi,Re).replace(/%value/gi,J[p].values[s]),("undefined"==typeof $e.visible||ZC._b_($e.visible))&&(0===Je&&0===Te||V.push($e))}}}return o})}();